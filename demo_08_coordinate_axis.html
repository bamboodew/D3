<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>chart</title>
		<script src="http://d3js.org/d3.v5.min.js" charset="utf-8"></script> <!-- d3库已更新：http://d3js.org/d3.v5.min.js -->
	</head>
	<body>
		<svg width="960" height="600"></svg>
		<script>
        const marge = {top: 60, bottom: 60, left: 60, right: 60};
        const dataset = [2.5, 2.1, 1.7, 1.3, 0.9]; // 表示矩形的宽度

        var scaleLinear = d3.scaleLinear()
            .domain([0, d3.max(dataset)])
            .range([0, 250]);

        const svg = d3.select("svg");
        const g = svg.append("g")
            .attr("transform", "translate(" + marge.top + "," + marge.left + ")");

        const rectHeight = 30; // 每个矩形所占的像素高度(包括空白)

        g.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", 20)
            .attr("y", function(d, i) {
                return i * rectHeight;
            })
            .attr("width", function(d) {
                return scaleLinear(d);
            })
            .attr("height", rectHeight - 5)
            .attr("fill", "blue");

        /*
				 * 定义比例尺
				 * */
        const xScale = d3.scaleLinear() // 创建一个比例尺
            .domain([0, d3.max(dataset)]) // 定义域
            .range([0, 250]); // 值域

        /*
        定义坐标轴
        */
        const xAxis = d3.axisBottom(xScale)
            .ticks(7);
        g.append("g")
            .attr("transform", "translate(" + 20 + "," + (dataset.length * rectHeight) + ")")
            .call(xAxis);
		
		</script>
	</body>
</html>